# Инструкция по работе с Docker-контейнерами

В этом проекте используются следующие Docker-контейнеры:

1. **postgres** - база данных PostgreSQL
2. **backend** - бэкенд-сервер на Node.js
3. **strapi** - Headless CMS Strapi для управления контентом

## Скрипты для управления контейнерами

Для удобства работы с Docker-контейнерами созданы следующие PowerShell-скрипты:

### 1. Пересборка и запуск контейнеров

```powershell
.\rebuild-docker.ps1
```

Этот скрипт выполняет следующие действия:
- Останавливает и удаляет существующие контейнеры
- Пересобирает образы с нуля (без использования кэша)
- Запускает контейнеры в фоновом режиме

Используйте этот скрипт, если вы внесли изменения в Dockerfile или хотите полностью пересобрать образы.

### 2. Запуск контейнеров без пересборки

```powershell
.\start-docker.ps1
```

Этот скрипт просто запускает существующие контейнеры в фоновом режиме без их пересборки.

Используйте этот скрипт для быстрого запуска уже собранных контейнеров.

### 3. Остановка контейнеров

```powershell
.\stop-docker.ps1
```

Этот скрипт останавливает и удаляет все запущенные контейнеры.

## Доступные сервисы

После запуска контейнеров вам будут доступны следующие сервисы:

- **База данных PostgreSQL**: localhost:5432
  - Имя пользователя: dev
  - Пароль: dev
  - База данных: cafe_bardabar (для бэкенда)
  - База данных: cafe_bardabar_strapi (для Strapi CMS)

- **Backend API**: http://localhost:3001

- **Strapi CMS**: http://localhost:1337

## Разработка фронтенда

Теперь, когда бэкенд, база данных и CMS запущены в Docker, вы можете сосредоточиться на разработке фронтенда, который будет взаимодействовать с этими сервисами.

Для разработки фронтенда на Next.js:

1. Перейдите в директорию next-landing:
   ```
   cd next-landing
   ```

2. Установите зависимости (если еще не установлены):
   ```
   npm install
   ```

3. Запустите сервер разработки:
   ```
   npm run dev
   ```

Фронтенд будет доступен по адресу: http://localhost:3000